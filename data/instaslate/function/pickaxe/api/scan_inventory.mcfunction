#####################################################################
# pickaxe/api/scan_inventory.mcfunction
# written by Eroxen
#
# Scans the executing player's inventory, and removes the speed boost
# item modifier from any item not in the mainhand.
#####################################################################

data modify storage instaslate:calc internal.pickaxe set value {}
execute if predicate instaslate:boost_valid run data modify storage instaslate:calc internal.pickaxe.selected_slot set from entity @s SelectedItemSlot


execute if items entity @p player.cursor minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s player.cursor instaslate:reset_tool
execute if items entity @p weapon.offhand minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s weapon.offhand instaslate:reset_tool
execute if items entity @p inventory.0 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.0 instaslate:reset_tool
execute if items entity @p inventory.1 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.1 instaslate:reset_tool
execute if items entity @p inventory.2 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.2 instaslate:reset_tool
execute if items entity @p inventory.3 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.3 instaslate:reset_tool
execute if items entity @p inventory.4 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.4 instaslate:reset_tool
execute if items entity @p inventory.5 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.5 instaslate:reset_tool
execute if items entity @p inventory.6 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.6 instaslate:reset_tool
execute if items entity @p inventory.7 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.7 instaslate:reset_tool
execute if items entity @p inventory.8 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.8 instaslate:reset_tool
execute if items entity @p inventory.9 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.9 instaslate:reset_tool
execute if items entity @p inventory.10 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.10 instaslate:reset_tool
execute if items entity @p inventory.11 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.11 instaslate:reset_tool
execute if items entity @p inventory.12 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.12 instaslate:reset_tool
execute if items entity @p inventory.13 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.13 instaslate:reset_tool
execute if items entity @p inventory.14 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.14 instaslate:reset_tool
execute if items entity @p inventory.15 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.15 instaslate:reset_tool
execute if items entity @p inventory.16 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.16 instaslate:reset_tool
execute if items entity @p inventory.17 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.17 instaslate:reset_tool
execute if items entity @p inventory.18 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.18 instaslate:reset_tool
execute if items entity @p inventory.19 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.19 instaslate:reset_tool
execute if items entity @p inventory.20 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.20 instaslate:reset_tool
execute if items entity @p inventory.21 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.21 instaslate:reset_tool
execute if items entity @p inventory.22 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.22 instaslate:reset_tool
execute if items entity @p inventory.23 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.23 instaslate:reset_tool
execute if items entity @p inventory.24 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.24 instaslate:reset_tool
execute if items entity @p inventory.25 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.25 instaslate:reset_tool
execute if items entity @p inventory.26 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] run item modify entity @s inventory.26 instaslate:reset_tool
execute if items entity @p hotbar.0 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:0} run item modify entity @s hotbar.0 instaslate:reset_tool
execute if items entity @p hotbar.1 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:1} run item modify entity @s hotbar.1 instaslate:reset_tool
execute if items entity @p hotbar.2 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:2} run item modify entity @s hotbar.2 instaslate:reset_tool
execute if items entity @p hotbar.3 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:3} run item modify entity @s hotbar.3 instaslate:reset_tool
execute if items entity @p hotbar.4 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:4} run item modify entity @s hotbar.4 instaslate:reset_tool
execute if items entity @p hotbar.5 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:5} run item modify entity @s hotbar.5 instaslate:reset_tool
execute if items entity @p hotbar.6 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:6} run item modify entity @s hotbar.6 instaslate:reset_tool
execute if items entity @p hotbar.7 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:7} run item modify entity @s hotbar.7 instaslate:reset_tool
execute if items entity @p hotbar.8 minecraft:netherite_pickaxe[minecraft:tool={rules:[{blocks:"#minecraft:incorrect_for_netherite_tool",correct_for_drops:false},{blocks:"minecraft:deepslate",correct_for_drops:true,speed:38.3},{blocks:"#minecraft:mineable/pickaxe",correct_for_drops:true,speed:9.0}]}] unless data storage instaslate:calc internal.pickaxe{selected_slot:8} run item modify entity @s hotbar.8 instaslate:reset_tool
